{% extends "student_base.html" %}

{% block title %}Student Dashboard - Faculty of Computing Student Management System{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h2>Welcome, {{ user.name }}</h2>
    <p><strong>Department:</strong> {{ user.department }}</p>
    <p><strong>Registration Number:</strong> {{ user.reg_number }}</p>
</div>

<div class="dashboard-status">
    <strong>Status:</strong> 
    {% if user.status == "pending" %}
        <span class="badge bg-warning">Pending Approval</span>
    {% elif user.status == "approved" %}
        <span class="badge bg-success">Approved</span>
    {% elif user.status == "rejected" %}
        <span class="badge bg-danger">Rejected</span>
    {% endif %}
</div>

{% if user.status == "approved" %}
    <div class="dashboard-links-section">
        <h3>Your WhatsApp Group Links</h3>
        {% if links %}
            <div class="links-grid">
                {% for link in links %}
                    <a href="{{ link.url }}" class="link-card" target="_blank">
                        <p>{{ link.group_name }}</p>
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <p>No links available at this time.</p>
        {% endif %}
    </div>
{% elif user.status == "pending" %}
    <div class="pending-message">
        <h4>Pending Approval</h4>
        <p>Your registration is pending approval. Please check back later.</p>
    </div>
{% endif %}
{% endblock %}